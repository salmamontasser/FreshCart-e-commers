"use strict";(self.webpackChunkFreshCart_Final=self.webpackChunkFreshCart_Final||[]).push([[278],{278:(f,u,c)=>{c.r(u),c.d(u,{CartModule:()=>x});var s=c(6814),l=c(7163),t=c(4769),m=c(8323);let p=(()=>{class r{transform(e,...n){return e.filter(i=>0!=i.count)}static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275pipe=t.Yjl({name:"filterCart",type:r,pure:!0})}return r})();function _(r,d){if(1&r){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15),t._UZ(2,"img",16),t.qZA(),t.TgZ(3,"div",17)(4,"div",18)(5,"div")(6,"h5",19),t._uU(7),t.qZA(),t.TgZ(8,"h6",7),t._uU(9),t.qZA(),t.TgZ(10,"button",20),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.removeItem(o.product.id))}),t._UZ(11,"i",9),t._uU(12," Remove "),t.qZA()(),t.TgZ(13,"div")(14,"button",21),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.updateCart(o.product.id,o.count+1))}),t._uU(15," + "),t.qZA(),t.TgZ(16,"span",22),t._uU(17),t.qZA(),t.TgZ(18,"button",21),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.updateCart(o.product.id,o.count-1))}),t._uU(19," - "),t.qZA()()()()()}if(2&r){const e=d.$implicit;t.xp6(2),t.Q6J("src",e.product.imageCover,t.LSH),t.xp6(5),t.Oqu(e.product.title),t.xp6(2),t.hij("Price : ",e.price," EGP"),t.xp6(8),t.Oqu(e.count)}}const C=function(r){return["/checkout/",r]};function g(r,d){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",6)(2,"h6"),t._uU(3,"Total Price : "),t.TgZ(4,"span",7),t._uU(5),t.qZA()(),t.TgZ(6,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.clearCart())}),t._UZ(7,"i",9),t._uU(8," Clear Cart "),t.qZA()(),t.YNc(9,_,20,4,"div",10),t.ALo(10,"filterCart"),t.TgZ(11,"button",11)(12,"a",12),t._uU(13,"Online Payment "),t._UZ(14,"img",13),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(5),t.Oqu(e.cartDetails.data.totalCartPrice),t.xp6(4),t.Q6J("ngForOf",t.lcZ(10,3,e.cartDetails.data.products)),t.xp6(3),t.Q6J("routerLink",t.VKq(5,C,e.cartDetails.data._id))}}const v=[{path:"",component:(()=>{class r{constructor(e){this._cartService=e,this.cartDetails={}}ngOnInit(){this.getAllCart()}getAllCart(){this._cartService.getCart().subscribe({next:e=>{this.cartDetails=e,console.log(e)},error:e=>{console.log(e)}})}updateCart(e,n){this._cartService.updateCart(e,n).subscribe({next:i=>{this.cartDetails=i,console.log(i)},error:i=>{console.log(i)}})}removeItem(e){this._cartService.removeCart(e).subscribe({next:n=>{this.cartDetails=n,this._cartService.numOfCartItems.next(n.numOfCartItems)},error:n=>{console.log(n.error.message)}})}clearCart(){this._cartService.clearCart().subscribe({next:e=>{this.cartDetails=e,this._cartService.numOfCartItems.next(0)},error:e=>{console.log(e)}})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(m.N))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart-page"]],decls:8,vars:1,consts:[[1,"container","py-5","mt-5"],[1,"bg-main-light","p-5","shadow","rounded-4"],[1,"text-center"],[4,"ngIf"],[1,"border","rounded","p-3","mx-auto","w-50","mb-5"],["routerLink","/allorders",1,"btn","main-btn","text-white","w-100"],[1,"d-flex","align-items-center","justify-content-between","mt-3"],[1,"text-main"],[1,"btn","btn-outline-danger",3,"click"],[1,"fa-solid","fa-trash"],["class","row d-flex my-3 border-bottom p-2 align-items-center",4,"ngFor","ngForOf"],[1,"btn","main-btn","m-0"],[1,"text-white",3,"routerLink"],["src","./assets/images/visa.svg","alt","",2,"width","40px"],[1,"row","d-flex","my-3","border-bottom","p-2","align-items-center"],[1,"col-md-1"],["alt","",1,"w-100",3,"src"],[1,"col-md-11"],[1,"d-flex","justify-content-between"],[1,"small"],[1,"btn","btn-sm","p-0","m-0","text-danger",3,"click"],[1,"btn","btn-count",3,"click"],[1,"mx-3"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Cart Shop "),t.qZA(),t.YNc(4,g,15,7,"div",3),t.qZA()(),t.TgZ(5,"section",4)(6,"button",5),t._uU(7,"My Orders"),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("ngIf",null==i.cartDetails?null:i.cartDetails.data))},dependencies:[s.sg,s.O5,l.rH,p],styles:[".btn-count[_ngcontent-%COMP%]{border:1px solid var(--main-color);transition:all .3s;-webkit-transition:all .3s;-moz-transition:all .3s;-ms-transition:all .3s;-o-transition:all .3s}.btn-count[_ngcontent-%COMP%]:hover{background:var(--main-color)}"]})}return r})()}];let h=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]})}return r})(),x=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[s.ez,h]})}return r})()}}]);